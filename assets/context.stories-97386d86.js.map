{"version":3,"file":"context.stories-97386d86.js","sources":["../../src/components/02-components/context/context.tsx"],"sourcesContent":["import SwapHorizIcon from '@mui/icons-material/SwapHoriz';\nimport {\n  Box,\n  Button,\n  Drawer,\n  FormControl,\n  InputLabel,\n  Select,\n  SelectChangeEvent,\n  useTheme,\n} from '@mui/material';\nimport { useState } from 'react';\n\nexport type ContextProps = {\n  level1: {\n    items: Array<{ title: string; id: string }>;\n    selectedItem: string;\n    label: string;\n    placeholder: string;\n  };\n  level2?: {\n    items: Array<{ title: string; id: string }>;\n    selectedItem: string;\n    label: string;\n    placeholder: string;\n  };\n  formSubmit: (a: HTMLFormElement) => void;\n};\n\nexport default function Context({ level1, level2, formSubmit }: ContextProps) {\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [level2Disabled, setLevel2Disabled] = useState(\n    level1.selectedItem === '0',\n  );\n\n  const theme = useTheme();\n\n  // Event handler for select onChange event.\n  function onChangeHandler(event: SelectChangeEvent) {\n    const element = event.currentTarget as HTMLSelectElement;\n    const isLevel1 = element.getAttribute('id') === 'level1-select';\n    // If on level 1 select and level 2 exists, enable/disable level 2 based in level 1 value.\n    if (isLevel1 && level2) {\n      setLevel2Disabled(element.value === '0');\n    }\n    // Call formSubmit() when applies.\n    if (!level2 || !isLevel1) {\n      const form = element.closest('form');\n      if (form) formSubmit(form);\n    }\n  }\n\n  // Styles.\n  const desktopContainerStyles = {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      '.MuiFormControl-root + .MuiFormControl-root': {\n        ml: theme.spacing(2),\n      },\n    },\n  };\n\n  const mobileDrawerStyles = {\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n    '& .MuiDrawer-paper': {\n      pt: '96px',\n      backgroundColor: 'primary.light',\n    },\n  };\n\n  const mobileContainerStyles = {\n    p: theme.spacing(4),\n    '.MuiFormControl-root + .MuiFormControl-root': {\n      mt: theme.spacing(3),\n    },\n  };\n\n  const formControlStyles = {\n    display: 'flex',\n    maxWidth: 400,\n    mx: 'auto',\n    [theme.breakpoints.up('md')]: {\n      mx: 0,\n      width: 250,\n      display: 'inline-flex',\n    },\n  };\n\n  const selectStyles = {\n    color: 'primary.main',\n    [theme.breakpoints.up('md')]: {\n      color: 'white',\n    },\n    'select:disabled': {\n      opacity: 0.5,\n      WebkitTextFillColor: theme.palette.primary.main,\n      [theme.breakpoints.up('md')]: {\n        WebkitTextFillColor: 'white',\n      },\n    },\n    '.MuiNativeSelect-icon': {\n      fill: theme.palette.primary.main,\n      [theme.breakpoints.up('md')]: {\n        fill: 'white',\n      },\n    },\n    '&, &:hover, &.Mui-focused, &.Mui-disabled': {\n      '& .MuiOutlinedInput-notchedOutline': {\n        borderColor: 'primary.main',\n        [theme.breakpoints.up('md')]: {\n          borderColor: 'white',\n        },\n      },\n    },\n    '&.Mui-disabled': {\n      '.MuiOutlinedInput-notchedOutline, .MuiNativeSelect-icon': {\n        opacity: 0.5,\n      },\n    },\n  };\n\n  const labelStyles = {\n    '&, &.Mui-focused, &.Mui-disabled': {\n      color: 'primary.main',\n      [theme.breakpoints.up('md')]: {\n        color: 'white',\n      },\n    },\n    '&.Mui-disabled': {\n      opacity: 0.5,\n    },\n  };\n\n  const formElements = (\n    <>\n      <FormControl size=\"small\" sx={formControlStyles}>\n        <InputLabel id=\"level1-select-label\" sx={labelStyles}>\n          {level1.label}\n        </InputLabel>\n        <Select\n          labelId=\"level1-select-label\"\n          id=\"level1-select\"\n          label={level1.label}\n          IconComponent={SwapHorizIcon}\n          native={true}\n          name=\"level1\"\n          sx={selectStyles}\n          defaultValue={level1.selectedItem}\n          onChange={onChangeHandler}\n        >\n          <option value=\"0\">{level1.placeholder}</option>\n          {level1.items.map((item) => (\n            <option key={item.id} value={item.id}>\n              {item.title}\n            </option>\n          ))}\n        </Select>\n      </FormControl>\n      {level2 && (\n        <FormControl\n          size=\"small\"\n          sx={formControlStyles}\n          disabled={level2Disabled}\n        >\n          <InputLabel id=\"level2-select-label\" sx={labelStyles}>\n            {level2.label}\n          </InputLabel>\n          <Select\n            labelId=\"level2-select-label\"\n            id=\"level2-select\"\n            label={level2.label}\n            IconComponent={SwapHorizIcon}\n            native={true}\n            name=\"level2\"\n            sx={selectStyles}\n            defaultValue={level2.selectedItem}\n            onChange={onChangeHandler}\n          >\n            <option value=\"0\">{level2.placeholder}</option>\n            {level2.items.map((item) => (\n              <option key={item.id} value={item.id}>\n                {item.title}\n              </option>\n            ))}\n          </Select>\n        </FormControl>\n      )}\n    </>\n  );\n\n  return (\n    <Box>\n      <Button\n        sx={{\n          borderRadius: 0,\n          height: 56,\n          [theme.breakpoints.up('sm')]: { height: 64 },\n          [theme.breakpoints.up('md')]: { display: 'none' },\n          '&.is-active': {\n            backgroundColor: 'primary.light',\n          },\n        }}\n        onClick={() => {\n          setMobileOpen(!mobileOpen);\n        }}\n        className={mobileOpen ? 'is-active' : undefined}\n      >\n        <SwapHorizIcon\n          sx={{ color: mobileOpen ? 'primary.main' : 'white' }}\n          fontSize=\"large\"\n        />\n      </Button>\n      <Box sx={desktopContainerStyles}>{formElements}</Box>\n      <Drawer open={mobileOpen} anchor=\"top\" sx={mobileDrawerStyles}>\n        <Box sx={mobileContainerStyles}>{formElements}</Box>\n      </Drawer>\n    </Box>\n  );\n}\n"],"names":["Context","level1","level2","formSubmit","mobileOpen","setMobileOpen","useState","level2Disabled","setLevel2Disabled","theme","useTheme","onChangeHandler","event","element","isLevel1","form","desktopContainerStyles","mobileDrawerStyles","mobileContainerStyles","formControlStyles","selectStyles","labelStyles","formElements","jsxs","Fragment","FormControl","jsx","InputLabel","Select","SwapHorizIcon","item","Box","Button","Drawer"],"mappings":"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"}